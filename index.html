<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hybrid Sorting Algorithm</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

    <div class="container">
        <h1>Hybrid Sorting Algorithm: Merge + Insertion Sort</h1>

        <section class="input-section">
            <form id="arrayForm">
                <label for="arraySize">Enter Array Size:</label>
                <input type="number" id="arraySize" name="arraySize" value="1000" min="1000" max="1000000">
                <button type="submit">Generate Graph</button>
            </form>
        </section>

        <section class="graph-section">
            <h2>Graph: Merge Sort vs Hybrid Sort</h2>
            <div id="graph"></div>
        </section>

        <section class="code-block-section">
            <h2>Code for Hybrid Sorting Algorithm</h2>
            <pre>
                <code>
# Hybrid Sort Algorithm (Merge + Insertion)
class SortingAlgorithms:
    def __init__(self, threshold=20):
        self.comparisons = 0
        self.threshold = threshold

    def insertion_sort(self, arr, low, high):
        for idx in range(low + 1, high + 1):
            current_value = arr[idx]
            position = idx - 1
            while position >= low and arr[position] > current_value:
                arr[position + 1] = arr[position]
                position -= 1
                self.comparisons += 1
            arr[position + 1] = current_value

    def merge_sort(self, arr):
        self.recursive_merge(arr, 0, len(arr) - 1)

    def recursive_merge(self, arr, left, right):
        if left < right:
            mid = (left + right) // 2
            self.recursive_merge(arr, left, mid)
            self.recursive_merge(arr, mid + 1, right)
            self.merge(arr, left, mid, right)

    def merge(self, arr, left, mid, right):
        temp = []
        i, j = left, mid + 1
        while i <= mid and j <= right:
            self.comparisons += 1
            if arr[i] <= arr[j]:
                temp.append(arr[i])
                i += 1
            else:
                temp.append(arr[j])
                j += 1
        while i <= mid:
            temp.append(arr[i])
            i += 1
        while j <= right:
            temp.append(arr[j])
            j += 1
        for idx in range(len(temp)):
            arr[left + idx] = temp[idx]

    def hybrid_sort(self, arr, left, right):
        if (right - left + 1) <= self.threshold:
            self.insertion_sort(arr, left, right)
        else:
            if left < right:
                mid = (left + right) // 2
                self.hybrid_sort(arr, left, mid)
                self.hybrid_sort(arr, mid + 1, right)
                self.merge(arr, left, mid, right)
                </code>
            </pre>
        </section>
    </div>

    <script src="scripts.js"></script>
</body>
</html>
